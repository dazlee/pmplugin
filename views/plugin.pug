extends ./layouts/plugin

block body_content
	#baby-compensation.pm-plugin
		.pm-plugin-title 生育補助計算機
		.pm-plugin-content
			.pm-input-group
				label 縣市
				select#city-selector.pm-input-control
					for city in cities
						option(value=city._id) #{city.name}
			- var defaultCity = cities[0];
			- var defaultAreas = areas.filter(function (area) { return area.cityId == defaultCity._id});
			.pm-input-group
				label 鄉鎮區
				select#area-selector.pm-input-control
					for area in defaultAreas
						option(value=area._id) #{area.name}
			button#submit-baby-compensation-btn.pm-btn.pm-btn-blue 送出
			#baby-compensation-result.pm-plugin-message
				.pm-plugin-message-title
				pre.pm-plugin-message-content

		.pm-plugin-footer
	script.
		var baseUrl = "!{baseUrl}";
		var cities = !{JSON.stringify(cities)};
		var areas = !{JSON.stringify(areas)};

append body_scripts
	script(src="/js/baby-compensation.js")
